<!DOCTYPE html>
<!----------------------------------------------->
<!---- Prof R CV lect 6 Image Processing -->
<!----------------------------------------------->
<html>
<head>


<p> </p>
<div>
<img id="texImage" src="./beach.png" hidden></img>
</div>
<div>
Warmth -2 <input id="Warmth" type="range" min="-128" max="128" step="1" value="0" /> 2
</div>
<div>
Brightness -2 <input id="Brightness" type="range" min="-128" max="128" step="1" value="0" /> 2
</div>
<div>
Contrast -2 <input id="Contrast" type="range" min="-128" max="128" step="1" value="0" /> 2
</div>
<div>
Invert <input id="Invert" type="checkbox" value="check" />
</div>


<script id="vertex-shader" type="x-shader/x-vertex">
#version 300 es

in  vec2 vPosition;
in  vec2 vTexCoord;
out vec2 fTexCoord;

uniform mat4 P;

void main()
{
    fTexCoord = vTexCoord;

    gl_Position = P * vec4(vPosition, 0, 1);
}
</script>

<script id="fragment-shader" type="x-shader/x-fragment">
#version 300 es
precision mediump float;

in vec2 fTexCoord;
out vec4 fColor;

uniform sampler2D texMap;
uniform float warmth;
uniform float brightness;
uniform float contrast;
uniform float invert;

void main()
{
    vec4 color = texture(texMap, fTexCoord);   // Note texture2d is deprecated in webGL 2.0

    color.r += warmth;
    color.b -= warmth;

    color.rgb += brightness;

    color.rgb = 0.5 + (1.0 + contrast) * (color.rgb - 0.5);

    if (invert == 1.0) { color.rgb = 1.0 - color.rgb; }

    fColor = color;
}
</script>

<script type="text/javascript" src="./initShaders.js"></script>
<script type="text/javascript" src="./MVnew.js"></script>
<script type="text/javascript" src="./imageProcess0.js"></script>
</head>

<body>
<canvas id="gl-canvas" width="1280" height="720"> <!---- Set canvas to be 720P -->
Oops ... your browser doesn't support the HTML5 canvas element
</canvas>
</body>
</html>
